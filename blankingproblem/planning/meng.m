%Aeq为切割方式，beq为需要达成的目标
%A为
finalpattern1=finalpattern';
Aeq=finalpattern1(1:53,:);
beq=b(3,:);
res=finalpattern1(54,:);
aa=[5,7,9,12,15,18,20,25,28,36,48,4,11,24,29,32,38,40,46,50,2,3,33,34,35,45,49,51,52,53];
AAeq=zeros(53,116);
AAeq(aa,:)=Aeq(aa,:);
bbeq=zeros(1,53);
bbeq(:,aa)=beq(:,aa);
dd=[1,6,8,13,14,16,17,19,21,22,23,26,27,30,31,37,39,41,42,43,44,47];
AAAeq=zeros(53,116);
AAAeq(dd,:)=Aeq(dd,:);
bbbeq=zeros(1,53);
bbbeq(:,dd)=beq(:,dd);
day_4=[3,6,7,8,15,19,22,25,27,30,31,32,33,34,35,36,37,39,41,44,45,46,47,48,51,52,55,56,57,58,59,60,61,62,66,67,68,69,70,71,72,74,75,76,77,78,81,82,85,86,87,89,90,91,92,93,94,95,96,97,98,102,103,105,109,115];
p=zeros(1,116);
p(day_4)=1;
day_6=[day_4,2,4,5,9,10,13,14,16,17,18,20,21,23,24,26,28,40,42,43,49,50,53,54,63,64,65,73,79,80,88,89,104,107,108,113,116];
q=zeros(1,116);
q(day_6)=1;
A=[p;q];

rand('state',sum(clock));
p0=0;
tic
for i=1:10^7
    x=49*rand(116,1);
    x(x>20)=0;
    x(x<20)=x(x<20).*10;
    x1=floor(x);
    [f,g]=fun1(x1,res,A,AAeq,bbeq,AAAeq,bbbeq);
    if g(1) && g(2) && g(3)
        if p0<=f
            x0=x1;
            p0=f;
        end
    end
end
x0, p0
toc